<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OjParty login project!</title>
</head>
<body>
    <p>OjParty login project!</p>
    <div>
        <form>
           <input type="text" name="username" placeholder="username" value="ojParty"><br><br>
         <input type="password" name="password" placeholder="password" value="123456"><br><br>
            <input type="submit" name="submit" value="regiser"><br>
        </form><br><br>
        <a href="/register">Register</a>
    </div>
    <script>
        document.getElementsByTagName("form")[0].onsubmit = async (e) =>{
                e.preventDefault();
                const data = new FormData(document.getElementsByTagName("form")[0]);
                const a = await fetch('http://localhost:304/login',{
            method:"POST",
            body:data
            });  
            const text =  await a.json();
             if(text.status){
                window.location = '/'
             }
           
     }

    </script>
</body>
</html>